<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Batch Creation & Assignment | Sharma Ji Ka Aata</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .sidebar-item:hover {
            background-color: #f3f4f6;
        }
        .sidebar-item.active {
            background-color: #fee7d1;
            border-left: 4px solid #F7941D;
        }
        .sidebar-item.highlighted {
            color: #F7941D;
            font-weight: 600;
        }
        .card-shadow {
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .input-highlight {
            border-color: #F7941D;
        }
        .input-highlight:focus {
            box-shadow: 0 0 0 2px rgba(247, 148, 29, 0.2);
        }
        .highlight-orange {
            color: #F7941D;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="flex h-screen overflow-hidden">
        <!-- Left Sidebar -->
          <div class="w-64 bg-white border-r border-gray-200 flex flex-col">
            <div class="p-4 border-b border-gray-200">
                <h1 class="text-xl font-bold text-gray-800 flex items-center">
                    <i class="fas fa-wheat-awn mr-2 text-yellow-600"></i>
                    Sharma Ji Ka Aata
                </h1>
                <p class="text-xs text-gray-500 mt-1">ERP System v2.1</p>
            </div>
            
            <nav class="flex-1 overflow-y-auto p-2">
                <div class="space-y-1">
                    <div class="px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">
                        Phase 1 Modules
                    </div>
                    
                    <div class="space-y-1">
                        <a href="#" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-lock mr-2 text-gray-500"></i>
                            Access & Admin
                        </a>
                        
                        <a href="../product_catalog_management/01_product_family_master.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-shopping-cart mr-2 text-gray-500"></i>
                            Product & Catalog Management
                        </a>

                          <a href="../procurement/00_dashboard_procurement_reports.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-warehouse mr-2 text-gray-500"></i>
                             Procurement Management (Store)
                        </a>

                          <a href="../Raw_material_management/00_Inventory_dashboard.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-warehouse mr-2 text-gray-500"></i>
                            Raw Material Inventory (Store)
                        </a>

                        <div class="sidebar-item active block px-3 py-2 text-sm font-medium rounded-md">
                            <i class="fas fa-boxes mr-2 text-gray-500"></i>
                            Production & Planning
                        </div>
                        
                        <div class="pl-8 space-y-1 mt-1">
                             <a href="./00_production_report.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>Production Reports</span>
                            </a>
                             <a href="./01_production_order_create.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>Production Planning</span>
                            </a>
                             <a href="./02_material_checker.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>Material Availability Checker</span>
                            </a>
                             <a href="./03_production_order_view.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>Production Order List</span>
                            </a>
                             <a href="./04_batch_create_and_assignment.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span class="highlight-orange">Batch Creation & Assignment</span>
                            </a>
                             <a href="./05_batch_live_execution_tracker.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>Live Batch Execution</span>
                            </a>
                             <a href="./06_downtime_setup_log.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>Downtime & Setup Log</span>
                            </a>
                             <a href="./07_quality_check_trigger_and_batch_status.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>QC Trigger & Status Page</span>
                            </a>
                             <a href="./08_batch_closure.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>Batch Closure Page</span>
                            </a>
                        </div>
                
                        <a href="#" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-flask mr-2 text-gray-500"></i>
                            Quality Control (RM + Production)
                        </a>
                        
                            <a href="../Finished_goods/00_fg_report.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-pallet mr-2 text-gray-500"></i>
                            Finished Goods Inventory
                        </a>
                        
                        <a href="#" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-truck mr-2 text-gray-500"></i>
                            Dispatch & Logistics
                        </a>
                        
                          <a href="../Sales_and_Chanel/05_sales_order.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-receipt mr-2 text-gray-500"></i>
                            Sales & Channel (POs & Order Tracking)
                        </a>
                        
                        <a href="#" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-calculator mr-2 text-gray-500"></i>
                            Accounts & Finance
                        </a>
                        
                          <a href="../Index.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-chart-line mr-2 text-gray-500"></i>
                            Reports & Dashboards
                        </a>
                    </div>
                </div>
            </nav>
            
            <div class="p-4 border-t border-gray-200 flex items-center">
                <div class="w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center mr-2">
                    <i class="fas fa-user text-gray-600"></i>
                </div>
                <div>
                    <div class="text-sm font-medium">Admin User</div>
                    <div class="text-xs text-gray-500">Super Admin</div>
                </div>
            </div>
        </div>
        

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Navigation -->
            <div class="bg-white border-b border-gray-200 p-4 flex justify-between items-center">
                <div>
                    <h2 class="text-lg font-semibold text-gray-800">Create & Assign Production Batch</h2>
                    <p class="text-xs text-gray-500">Convert production plan into traceable batches</p>
                </div>
                <div class="flex space-x-2">
                    <button class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                        <i class="fas fa-save mr-2"></i>Save as Draft
                    </button>
                    <button id="confirmAssignBtn" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                        <i class="fas fa-check-circle mr-2"></i>Confirm & Assign
                    </button>
                    <button class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                        <i class="fas fa-times mr-2"></i>Cancel
                    </button>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="flex-1 overflow-auto p-4 grid grid-cols-1 lg:grid-cols-3 gap-4">
                <!-- Left Column - Batch Definition -->
                <div class="lg:col-span-2 space-y-4">
                    <!-- Batch Definition Card -->
                    <div class="bg-white rounded-lg card-shadow p-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-cube mr-2 text-orange-500"></i> Batch Definition
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="productionPlan" class="block text-sm font-medium text-gray-700">Linked Production Plan</label>
                                <select id="productionPlan" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md input-highlight">
                                    <option value="">Select a production plan</option>
                                    <option value="PLAN/2025/013">PLAN/2025/013 - Premium Atta (5000kg)</option>
                                    <option value="PLAN/2025/014">PLAN/2025/014 - Multigrain Atta (3000kg)</option>
                                    <option value="PLAN/2025/015">PLAN/2025/015 - Besan (2000kg)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Auto-Generated Batch ID</label>
                                <div class="mt-1 px-3 py-2 bg-gray-50 rounded-md border border-gray-300 text-sm">
                                    PLAN/2025/013/B1
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">SKU</label>
                                <div class="mt-1 px-3 py-2 bg-gray-50 rounded-md border border-gray-300 text-sm">
                                    SKU-ATTA-PREMIUM-5KG
                                </div>
                            </div>
                            <div>
                                <label for="quantity" class="block text-sm font-medium text-gray-700">Quantity to Produce (kg)</label>
                                <input type="number" id="quantity" class="mt-1 focus:ring-orange-500 focus:border-orange-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md input-highlight" value="5000">
                            </div>
                            <div>
                                <label for="packaging" class="block text-sm font-medium text-gray-700">Packaging Type</label>
                                <select id="packaging" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md input-highlight">
                                    <option value="5kg">5kg PP Bag</option>
                                    <option value="10kg">10kg PP Bag</option>
                                    <option value="25kg">25kg Jute Bag</option>
                                    <option value="50kg">50kg Jute Bag</option>
                                </select>
                            </div>
                            <div>
                                <label for="estimatedOutput" class="block text-sm font-medium text-gray-700">Estimated Output (override)</label>
                                <input type="text" id="estimatedOutput" class="mt-1 focus:ring-orange-500 focus:border-orange-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md input-highlight" placeholder="Optional">
                            </div>
                        </div>
                    </div>

                    <!-- Assignment Card -->
                    <div class="bg-white rounded-lg card-shadow p-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-users-cog mr-2 text-orange-500"></i> Assignment
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="shift" class="block text-sm font-medium text-gray-700">Shift</label>
                                <select id="shift" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md input-highlight">
                                    <option value="">Select shift</option>
                                    <option value="morning">Morning (6AM - 2PM)</option>
                                    <option value="evening">Evening (2PM - 10PM)</option>
                                    <option value="night">Night (10PM - 6AM)</option>
                                </select>
                            </div>
                            <div>
                                <label for="productionLine" class="block text-sm font-medium text-gray-700">Production Line</label>
                                <select id="productionLine" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md input-highlight">
                                    <option value="">Select production line</option>
                                    <option value="line1">Chakki Line 1</option>
                                    <option value="line2">Chakki Line 2</option>
                                    <option value="line3">Modern Mill Line</option>
                                    <option value="line4">Packaging Line A</option>
                                </select>
                            </div>
                            <div class="md:col-span-2">
                                <label for="operators" class="block text-sm font-medium text-gray-700">Assigned Team / Operator</label>
                                <select id="operators" multiple class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md input-highlight h-auto">
                                    <option value="teamA">Team A (Morning Shift)</option>
                                    <option value="teamB">Team B (Evening Shift)</option>
                                    <option value="op1">Operator 1 - Rajesh Kumar</option>
                                    <option value="op2">Operator 2 - Sunil Sharma</option>
                                    <option value="op3">Operator 3 - Amit Patel</option>
                                    <option value="op4">Operator 4 - Vijay Singh</option>
                                </select>
                                <p class="mt-1 text-xs text-gray-500">Select multiple operators or teams</p>
                            </div>
                            <div>
                                <label for="startDate" class="block text-sm font-medium text-gray-700">Start Date</label>
                                <input type="date" id="startDate" class="mt-1 focus:ring-orange-500 focus:border-orange-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md input-highlight">
                            </div>
                            <div>
                                <label for="startTime" class="block text-sm font-medium text-gray-700">Start Time</label>
                                <input type="time" id="startTime" class="mt-1 focus:ring-orange-500 focus:border-orange-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md input-highlight">
                            </div>
                            <div class="md:col-span-2">
                                <label for="notes" class="block text-sm font-medium text-gray-700">Notes for Execution Team</label>
                                <textarea id="notes" rows="3" class="mt-1 shadow-sm focus:ring-orange-500 focus:border-orange-500 block w-full sm:text-sm border border-gray-300 rounded-md input-highlight"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Batch Summary -->
                <div class="space-y-4">
                    <!-- Batch Summary Card -->
                    <div class="bg-white rounded-lg card-shadow p-6 sticky top-4">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-clipboard-list mr-2 text-orange-500"></i> Batch Summary
                        </h3>
                        <div class="space-y-4">
                            <div class="flex items-center space-x-4">
                                <div class="flex-shrink-0">
                                    <img src="https://via.placeholder.com/80?text=Atta" alt="Product" class="h-16 w-16 rounded-md border border-gray-200">
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium text-gray-900">Premium Atta</h4>
                                    <p class="text-xs text-gray-500">SKU-ATTA-PREMIUM-5KG</p>
                                    <div class="mt-1 flex items-center">
                                        <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Active</span>
                                    </div>
                                </div>
                            </div>

                            <div class="border-t border-gray-200 pt-4">
                                <dl class="space-y-2">
                                    <div class="flex justify-between">
                                        <dt class="text-sm font-medium text-gray-500">Plan ID</dt>
                                        <dd class="text-sm text-gray-900">PLAN/2025/013</dd>
                                    </div>
                                    <div class="flex justify-between">
                                        <dt class="text-sm font-medium text-gray-500">Batch Status</dt>
                                        <dd class="text-sm">
                                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs">Draft</span>
                                        </dd>
                                    </div>
                                    <div class="flex justify-between">
                                        <dt class="text-sm font-medium text-gray-500">Estimated FG Output</dt>
                                        <dd class="text-sm text-gray-900">5000 kg</dd>
                                    </div>
                                    <div class="flex justify-between">
                                        <dt class="text-sm font-medium text-gray-500">Packaging</dt>
                                        <dd class="text-sm text-gray-900">5kg PP Bag</dd>
                                    </div>
                                </dl>
                            </div>

                            <div class="border-t border-gray-200 pt-4">
                                <h4 class="text-sm font-medium text-gray-900 mb-2">Material Requirement</h4>
                                <ul class="space-y-2 text-sm">
                                    <li class="flex justify-between">
                                        <span class="text-gray-500">Wheat (Premium)</span>
                                        <span class="text-gray-900">5250 kg</span>
                                    </li>
                                    <li class="flex justify-between">
                                        <span class="text-gray-500">PP Bags (5kg)</span>
                                        <span class="text-gray-900">1000 units</span>
                                    </li>
                                    <li class="flex justify-between">
                                        <span class="text-gray-500">Labels</span>
                                        <span class="text-gray-900">1000 units</span>
                                    </li>
                                </ul>
                            </div>

                            <div class="border-t border-gray-200 pt-4">
                                <h4 class="text-sm font-medium text-gray-900 mb-2">QC Template</h4>
                                <div class="flex items-center">
                                    <i class="fas fa-file-alt text-gray-400 mr-2"></i>
                                    <span class="text-sm text-gray-500">Atta Standard QC v2.1</span>
                                </div>
                                <div class="mt-2 text-xs text-gray-500">
                                    Includes: Moisture test, Ash content, Gluten test
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions Card -->
                    <div class="bg-white rounded-lg card-shadow p-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-bolt mr-2 text-orange-500"></i> Quick Actions
                        </h3>
                        <div class="grid grid-cols-2 gap-2">
                            <button class="flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                                <i class="fas fa-file-alt mr-2 text-gray-500"></i> View Plan
                            </button>
                            <button class="flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                                <i class="fas fa-clipboard-check mr-2 text-gray-500"></i> QC Checklist
                            </button>
                            <button class="flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                                <i class="fas fa-boxes mr-2 text-gray-500"></i> Material Check
                            </button>
                            <button class="flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                                <i class="fas fa-history mr-2 text-gray-500"></i> Batch History
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmationModal" class="fixed inset-0 overflow-y-auto hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10">
                            <i class="fas fa-exclamation text-orange-500"></i>
                        </div>
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                            <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">Confirm Batch Assignment</h3>
                            <div class="mt-2">
                                <p class="text-sm text-gray-500">Are you sure you want to assign this batch to production? Once confirmed, the batch will be visible on the shop floor interface and operators can start working on it.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" id="confirmModalBtn" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-orange-500 text-base font-medium text-white hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 sm:ml-3 sm:w-auto sm:text-sm">
                        Confirm Assignment
                    </button>
                    <button type="button" id="cancelModalBtn" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const productionPlanSelect = document.getElementById('productionPlan');
        const confirmAssignBtn = document.getElementById('confirmAssignBtn');
        const confirmationModal = document.getElementById('confirmationModal');
        const confirmModalBtn = document.getElementById('confirmModalBtn');
        const cancelModalBtn = document.getElementById('cancelModalBtn');

        // Event Listeners
        productionPlanSelect.addEventListener('change', function() {
            // In a real app, this would fetch data based on the selected plan
            console.log('Production plan selected:', this.value);
        });

        confirmAssignBtn.addEventListener('click', function() {
            confirmationModal.classList.remove('hidden');
        });

        confirmModalBtn.addEventListener('click', function() {
            // In a real app, this would submit the form
            alert('Batch successfully assigned to production!');
            confirmationModal.classList.add('hidden');
            // Redirect or update UI as needed
        });

        cancelModalBtn.addEventListener('click', function() {
            confirmationModal.classList.add('hidden');
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target === confirmationModal) {
                confirmationModal.classList.add('hidden');
            }
        });

        // Sample data population (in a real app, this would come from an API)
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date and time
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const time = now.toTimeString().substring(0, 5);
            
            document.getElementById('startDate').value = today;
            document.getElementById('startTime').value = time;
        });
    </script>
</body>
</html>