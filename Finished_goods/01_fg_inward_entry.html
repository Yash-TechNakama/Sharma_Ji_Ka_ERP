<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FG Stock Inward | Sharma Ji Ka Aata</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .sidebar-item.active {
            background-color: #FEF3E2;
            border-left: 4px solid #F7941D;
        }
       .sidebar-item.active {
            border-left: 4px solid #F7941D;
            background-color: rgba(247, 148, 29, 0.1);
        }
        .highlight-orange {
            color: #F7941D;
            font-weight: bold;
        }
        .sidebar-item.active span {
            color: #F7941D;
            font-weight: 600;
        }
        .sidebar-item.highlighted {
            color: #F7941D;
            font-weight: bold;
        }
        .sidebar-item.child {
            padding-left: 2rem;
        }
        .card-shadow {
            box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
        }
        .orange-header {
            background-color: #F7941D;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
          <div class="w-64 bg-white border-r border-gray-200 flex flex-col">
            <div class="p-4 border-b border-gray-200">
                <h1 class="text-xl font-bold text-gray-800 flex items-center">
                    <i class="fas fa-wheat-awn mr-2 text-yellow-600"></i>
                    Sharma Ji Ka Aata
                </h1>
                <p class="text-xs text-gray-500 mt-1">ERP System v2.1</p>
            </div>
            
            <nav class="flex-1 overflow-y-auto p-2">
                <div class="space-y-1">
                    <div class="px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">
                        Phase 1 Modules
                    </div>
                    
                    <div class="space-y-1">
                        <a href="#" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-lock mr-2 text-gray-500"></i>
                            Access & Admin
                        </a>
                        
                        <a href="../product_catalog_management/01_product_family_master.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-shopping-cart mr-2 text-gray-500"></i>
                            Product & Catalog Management
                        </a>

                          <a href="../procurement/00_dashboard_procurement_reports.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-warehouse mr-2 text-gray-500"></i>
                             Procurement Management (Store)
                        </a>

                          <a href="../Raw_material_management/00_Inventory_dashboard.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-warehouse mr-2 text-gray-500"></i>
                            Raw Material Inventory (Store)
                        </a>
                        
                        <a href="../Planning_and_production/00_production_report.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-flask mr-2 text-gray-500"></i>
                             Production & Planning
                        </a>

                          <a href="#" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-flask mr-2 text-gray-500"></i>
                            Quality Control (RM + Production)
                        </a>
                        
                        <div class="sidebar-item active block px-3 py-2 text-sm font-medium rounded-md">
                            <i class="fas fa-boxes mr-2 text-gray-500"></i>
                            Finished Goods Inventory
                        </div>
                        
                        <div class="pl-8 space-y-1 mt-1">
                             <a href="./00_fg_report.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                                <span>FG Inventory Reports</span>
                            </a>
                            <a href="./01_fg_inward_entry.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                              <span class="highlight-orange">FG Stock Inward </span>
                            </a>
                             <a href="./02_fg_overview.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                              <span>FG Inventory Overview </span>
                            </a>
                             <a href="./03_inter_location_transfer.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                              <span>Inter-Location Transfer</span>
                            </a>
                             <a href="./04_rejected_stock_controler.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                              <span>Hold / Rejected Stock Handler</span>
                            </a>
                             <a href="./05_fg_expiry_aging_view.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                              <span>FG Aging & Expiry View</span>
                            </a>
                             <a href="./06_fg_inventory_ajdustment.html" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                              <span>FG Inventory Adjustment</span>
                            </a>
  
                        </div>
                        
                        <a href="#" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-truck mr-2 text-gray-500"></i>
                            Dispatch & Logistics
                        </a>
                        
                          <a href="../Sales_and_Chanel/05_sales_order.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-receipt mr-2 text-gray-500"></i>
                            Sales & Channel (POs & Order Tracking)
                        </a>
                        
                        <a href="#" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-calculator mr-2 text-gray-500"></i>
                            Accounts & Finance
                        </a>
                        
                          <a href="../index.html" class="sidebar-item block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-100">
                            <i class="fas fa-chart-line mr-2 text-gray-500"></i>
                            Reports & Dashboards
                        </a>
                    </div>
                </div>
            </nav>
            
            <div class="p-4 border-t border-gray-200 flex items-center">
                <div class="w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center mr-2">
                    <i class="fas fa-user text-gray-600"></i>
                </div>
                <div>
                    <div class="text-sm font-medium">Admin User</div>
                    <div class="text-xs text-gray-500">Super Admin</div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex flex-col flex-1 overflow-hidden">
            <!-- Top Navigation -->
            <div class="flex items-center justify-between h-16 px-4 bg-white border-b border-gray-200">
                <div class="flex items-center">
                    <button class="md:hidden p-2 text-gray-500 rounded-md hover:bg-gray-100 focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="ml-2 text-lg font-semibold text-gray-800">Finished Goods Stock Inward</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="p-2 text-gray-500 rounded-full hover:bg-gray-100 focus:outline-none">
                        <i class="fas fa-bell"></i>
                    </button>
                    <div class="flex items-center">
                        <img src="https://via.placeholder.com/32x32" alt="User" class="h-8 w-8 rounded-full">
                        <span class="ml-2 text-sm font-medium text-gray-700">Inventory User</span>
                    </div>
                </div>
            </div>
            
            <!-- Main Content Area -->
            <div class="flex-1 overflow-auto p-4">
                <!-- Filters and Actions -->
                <div class="mb-6 bg-white rounded-lg card-shadow p-4">
                    <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                        <div class="flex flex-col md:flex-row md:space-x-4 mb-4 md:mb-0">
                            <div class="w-full md:w-48">
                                <label for="batch-filter" class="block text-sm font-medium text-gray-700 mb-1">Batch ID</label>
                                <select id="batch-filter" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm">
                                    <option value="">All Batches</option>
                                    <option value="BATCH-001">BATCH-001</option>
                                    <option value="BATCH-002">BATCH-002</option>
                                    <option value="BATCH-003">BATCH-003</option>
                                </select>
                            </div>
                            <div class="w-full md:w-48 mt-2 md:mt-0">
                                <label for="sku-filter" class="block text-sm font-medium text-gray-700 mb-1">SKU</label>
                                <select id="sku-filter" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm">
                                    <option value="">All SKUs</option>
                                    <option value="SKU-001">Premium Atta (5kg)</option>
                                    <option value="SKU-002">Standard Atta (10kg)</option>
                                </select>
                            </div>
                            <div class="w-full md:w-48 mt-2 md:mt-0">
                                <label for="qc-filter" class="block text-sm font-medium text-gray-700 mb-1">QC Status</label>
                                <select id="qc-filter" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm">
                                    <option value="">All Status</option>
                                    <option value="passed">Passed</option>
                                </select>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <button id="submit-btn" class="px-4 py-2 bg-orange-500 text-white text-sm font-medium rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                                <i class="fas fa-check-circle mr-2"></i>Submit Inward Entry
                            </button>
                            <button class="px-4 py-2 bg-gray-200 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
                                <i class="fas fa-save mr-2"></i>Save as Draft
                            </button>
                            <button class="px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
                                <i class="fas fa-times mr-2"></i>Cancel
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Main Form -->
                <div class="flex flex-col lg:flex-row gap-6">
                    <!-- Batch Selection Form -->
                    <div class="lg:w-2/3">
                        <div class="bg-white rounded-lg card-shadow overflow-hidden">
                            <div class="orange-header px-4 py-3 flex items-center">
                                <i class="fas fa-clipboard-list mr-2"></i>
                                <h2 class="text-lg font-semibold">Batch Details</h2>
                            </div>
                            <div class="p-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="batch-id" class="block text-sm font-medium text-gray-700 mb-1">Select Approved Batch ID</label>
                                        <div class="relative">
                                            <select id="batch-id" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm">
                                                <option value="">Select Batch</option>
                                                <option value="BATCH-001">BATCH-001 - Premium Atta (5kg)</option>
                                                <option value="BATCH-002">BATCH-002 - Standard Atta (10kg)</option>
                                                <option value="BATCH-003">BATCH-003 - Premium Atta (10kg)</option>
                                            </select>
                                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                                <i class="fas fa-qrcode text-gray-400"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="sku" class="block text-sm font-medium text-gray-700 mb-1">SKU</label>
                                        <input type="text" id="sku" class="w-full rounded-md border-gray-300 shadow-sm bg-gray-100 text-sm" readonly>
                                    </div>
                                    <div>
                                        <label for="quantity" class="block text-sm font-medium text-gray-700 mb-1">Quantity to Inward</label>
                                        <div class="relative">
                                            <input type="number" id="quantity" class="w-full rounded-md border-gray-300 shadow-sm bg-gray-100 text-sm" readonly>
                                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                                <span class="text-gray-500 text-sm">bags</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="packaging" class="block text-sm font-medium text-gray-700 mb-1">Packaging Type</label>
                                        <select id="packaging" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm">
                                            <option value="polybag">Polybag</option>
                                            <option value="paper">Paper Bag</option>
                                            <option value="box">Cardboard Box</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="qc-status" class="block text-sm font-medium text-gray-700 mb-1">QC Status</label>
                                        <div class="relative">
                                            <input type="text" id="qc-status" value="Passed" class="w-full rounded-md border-gray-300 shadow-sm bg-green-100 text-green-800 text-sm" readonly>
                                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                                <i class="fas fa-check-circle text-green-500"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="expiry" class="block text-sm font-medium text-gray-700 mb-1">Shelf Life / Expiry Date</label>
                                        <div class="relative">
                                            <input type="text" id="expiry" class="w-full rounded-md border-gray-300 shadow-sm bg-gray-100 text-sm" readonly>
                                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                                <i class="fas fa-hourglass-half text-gray-400"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <label for="location" class="block text-sm font-medium text-gray-700 mb-1">Storage Location</label>
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div>
                                            <label for="warehouse" class="block text-xs font-medium text-gray-500 mb-1">Warehouse</label>
                                            <select id="warehouse" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm">
                                                <option value="">Select Warehouse</option>
                                                <option value="WH-001">Main Warehouse</option>
                                                <option value="WH-002">North Distribution Center</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label for="zone" class="block text-xs font-medium text-gray-500 mb-1">Zone</label>
                                            <select id="zone" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm" disabled>
                                                <option value="">Select Zone</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label for="bin" class="block text-xs font-medium text-gray-500 mb-1">Bin</label>
                                            <select id="bin" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm" disabled>
                                                <option value="">Select Bin</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <label for="remarks" class="block text-sm font-medium text-gray-700 mb-1">Internal Remarks</label>
                                    <textarea id="remarks" rows="3" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 text-sm" placeholder="e.g., 'Hold for promo', 'Ready for dispatch'"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Inward Summary Card -->
                    <div class="lg:w-1/3">
                        <div class="bg-white rounded-lg card-shadow overflow-hidden sticky top-4">
                            <div class="orange-header px-4 py-3 flex items-center">
                                <i class="fas fa-info-circle mr-2"></i>
                                <h2 class="text-lg font-semibold">Inward Summary</h2>
                            </div>
                            <div class="p-4">
                                <div class="flex items-center mb-4">
                                    <img src="https://via.placeholder.com/80x80" alt="Product" class="h-16 w-16 rounded-md border border-gray-200">
                                    <div class="ml-3">
                                        <h3 id="summary-sku" class="text-sm font-medium text-gray-900">-</h3>
                                        <p id="summary-batch" class="text-xs text-gray-500">Batch: -</p>
                                    </div>
                                </div>
                                
                                <div class="space-y-3">
                                    <div>
                                        <div class="flex justify-between text-sm">
                                            <span class="text-gray-500">Produced Quantity:</span>
                                            <span id="summary-produced" class="font-medium">-</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                                            <div id="inward-progress" class="bg-orange-500 h-2 rounded-full" style="width: 0%"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="flex justify-between text-sm">
                                        <span class="text-gray-500">Inwarded Quantity:</span>
                                        <span id="summary-inwarded" class="font-medium">-</span>
                                    </div>
                                    
                                    <div class="flex justify-between text-sm">
                                        <span class="text-gray-500">Shelf Life:</span>
                                        <span id="summary-shelf-life" class="font-medium">-</span>
                                    </div>
                                    
                                    <div class="flex justify-between text-sm">
                                        <span class="text-gray-500">Location:</span>
                                        <span id="summary-location" class="font-medium text-right">Not selected</span>
                                    </div>
                                    
                                    <div class="pt-3 mt-3 border-t border-gray-200">
                                        <h4 class="text-xs font-medium text-gray-500 mb-1">QC Notes:</h4>
                                        <p id="summary-qc-notes" class="text-xs text-gray-600 italic">No QC notes available</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data for batches
        const batches = {
            "BATCH-001": {
                sku: "Premium Atta (5kg)",
                quantity: 500,
                qcStatus: "Passed",
                expiry: "6 months from production",
                qcNotes: "Batch meets all quality standards. Ready for storage.",
                image: "https://via.placeholder.com/80x80"
            },
            "BATCH-002": {
                sku: "Standard Atta (10kg)",
                quantity: 300,
                qcStatus: "Passed",
                expiry: "6 months from production",
                qcNotes: "Minor packaging issues observed but contents are fine.",
                image: "https://via.placeholder.com/80x80"
            },
            "BATCH-003": {
                sku: "Premium Atta (10kg)",
                quantity: 400,
                qcStatus: "Passed",
                expiry: "6 months from production",
                qcNotes: "Excellent quality. Priority for premium customers.",
                image: "https://via.placeholder.com/80x80"
            }
        };

        // Warehouse location data
        const locations = {
            "WH-001": {
                name: "Main Warehouse",
                zones: {
                    "ZONE-A": {
                        name: "Zone A - Dry Storage",
                        bins: ["BIN-01", "BIN-02", "BIN-03"]
                    },
                    "ZONE-B": {
                        name: "Zone B - Climate Controlled",
                        bins: ["BIN-04", "BIN-05"]
                    }
                }
            },
            "WH-002": {
                name: "North Distribution Center",
                zones: {
                    "ZONE-X": {
                        name: "Zone X - Bulk Storage",
                        bins: ["BIN-10", "BIN-11"]
                    },
                    "ZONE-Y": {
                        name: "Zone Y - Fast Moving",
                        bins: ["BIN-12", "BIN-13", "BIN-14"]
                    }
                }
            }
        };

        // DOM elements
        const batchSelect = document.getElementById('batch-id');
        const skuInput = document.getElementById('sku');
        const quantityInput = document.getElementById('quantity');
        const qcStatusInput = document.getElementById('qc-status');
        const expiryInput = document.getElementById('expiry');
        const warehouseSelect = document.getElementById('warehouse');
        const zoneSelect = document.getElementById('zone');
        const binSelect = document.getElementById('bin');
        const remarksInput = document.getElementById('remarks');
        const submitBtn = document.getElementById('submit-btn');

        // Summary card elements
        const summarySku = document.getElementById('summary-sku');
        const summaryBatch = document.getElementById('summary-batch');
        const summaryProduced = document.getElementById('summary-produced');
        const summaryInwarded = document.getElementById('summary-inwarded');
        const summaryShelfLife = document.getElementById('summary-shelf-life');
        const summaryLocation = document.getElementById('summary-location');
        const summaryQcNotes = document.getElementById('summary-qc-notes');
        const inwardProgress = document.getElementById('inward-progress');
        const summaryImage = document.querySelector('#summary-card img');

        // Event listeners
        batchSelect.addEventListener('change', updateBatchDetails);
        warehouseSelect.addEventListener('change', updateZoneOptions);
        zoneSelect.addEventListener('change', updateBinOptions);
        submitBtn.addEventListener('click', submitInward);

        // Initialize form
        function initForm() {
            updateBatchDetails();
            updateZoneOptions();
            updateBinOptions();
        }

        // Update batch details when batch is selected
        function updateBatchDetails() {
            const selectedBatch = batchSelect.value;
            
            if (selectedBatch && batches[selectedBatch]) {
                const batch = batches[selectedBatch];
                
                // Update form fields
                skuInput.value = batch.sku;
                quantityInput.value = batch.quantity;
                qcStatusInput.value = batch.qcStatus;
                expiryInput.value = batch.expiry;
                
                // Update summary card
                summarySku.textContent = batch.sku;
                summaryBatch.textContent = `Batch: ${selectedBatch}`;
                summaryProduced.textContent = `${batch.quantity} bags`;
                summaryInwarded.textContent = `0 bags (0%)`;
                summaryShelfLife.textContent = batch.expiry;
                summaryQcNotes.textContent = batch.qcNotes;
                inwardProgress.style.width = '0%';
                
                // Update image (in a real app, this would come from the product catalog)
                if (summaryImage) {
                    summaryImage.src = batch.image;
                }
            } else {
                // Clear fields if no batch selected
                skuInput.value = '';
                quantityInput.value = '';
                qcStatusInput.value = '';
                expiryInput.value = '';
                
                // Clear summary card
                summarySku.textContent = '-';
                summaryBatch.textContent = 'Batch: -';
                summaryProduced.textContent = '-';
                summaryInwarded.textContent = '-';
                summaryShelfLife.textContent = '-';
                summaryQcNotes.textContent = 'No QC notes available';
                inwardProgress.style.width = '0%';
            }
        }

        // Update zone options based on selected warehouse
        function updateZoneOptions() {
            const selectedWarehouse = warehouseSelect.value;
            
            // Enable/disable zone select
            zoneSelect.disabled = !selectedWarehouse;
            
            // Clear existing options
            zoneSelect.innerHTML = '<option value="">Select Zone</option>';
            
            if (selectedWarehouse && locations[selectedWarehouse]) {
                const warehouse = locations[selectedWarehouse];
                
                // Add new options
                for (const zoneId in warehouse.zones) {
                    const zone = warehouse.zones[zoneId];
                    const option = document.createElement('option');
                    option.value = zoneId;
                    option.textContent = zone.name;
                    zoneSelect.appendChild(option);
                }
                
                // Update summary
                summaryLocation.textContent = warehouse.name;
            } else {
                summaryLocation.textContent = 'Not selected';
            }
            
            // Clear bin options
            updateBinOptions();
        }

        // Update bin options based on selected zone
        function updateBinOptions() {
            const selectedWarehouse = warehouseSelect.value;
            const selectedZone = zoneSelect.value;
            
            // Enable/disable bin select
            binSelect.disabled = !selectedZone;
            
            // Clear existing options
            binSelect.innerHTML = '<option value="">Select Bin</option>';
            
            if (selectedWarehouse && selectedZone && locations[selectedWarehouse]?.zones[selectedZone]) {
                const zone = locations[selectedWarehouse].zones[selectedZone];
                
                // Add new options
                zone.bins.forEach(binId => {
                    const option = document.createElement('option');
                    option.value = binId;
                    option.textContent = binId;
                    binSelect.appendChild(option);
                });
                
                // Update summary
                const warehouseName = locations[selectedWarehouse].name;
                const zoneName = zone.name;
                summaryLocation.textContent = `${warehouseName} > ${zoneName}`;
            } else if (selectedWarehouse) {
                const warehouseName = locations[selectedWarehouse].name;
                summaryLocation.textContent = warehouseName;
            } else {
                summaryLocation.textContent = 'Not selected';
            }
        }

        // Handle form submission
        function submitInward() {
            const selectedBatch = batchSelect.value;
            const selectedWarehouse = warehouseSelect.value;
            const selectedZone = zoneSelect.value;
            const selectedBin = binSelect.value;
            
            if (!selectedBatch) {
                alert('Please select a batch');
                return;
            }
            
            if (!selectedWarehouse || !selectedZone || !selectedBin) {
                alert('Please select a complete storage location (Warehouse, Zone, and Bin)');
                return;
            }
            
            // In a real app, this would submit to the server
            alert(`Inward submitted successfully for ${selectedBatch} to ${selectedWarehouse} > ${selectedZone} > ${selectedBin}`);
            
            // Update summary to show 100% inwarded
            const batch = batches[selectedBatch];
            summaryInwarded.textContent = `${batch.quantity} bags (100%)`;
            inwardProgress.style.width = '100%';
            
            // Reset form
            batchSelect.value = '';
            updateBatchDetails();
            warehouseSelect.value = '';
            updateZoneOptions();
        }

        // Initialize the form when page loads
        document.addEventListener('DOMContentLoaded', initForm);
    </script>
</body>
</html>